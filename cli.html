

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command Line Users Guide &mdash; satmo 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="satmo 0.1 documentation" href="index.html"/>
        <link rel="prev" title="Welcome to satmo’s documentation!" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> satmo
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command Line Users Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#update-mode">Update mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#download-data">Download data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples-usage">Examples usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#l3m-products-processing">L3m products processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Examples usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#generate-multisensor-composites">Generate multisensor composites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Examples usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#generate-time-composites">Generate time composites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Examples usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#near-real-time-mode">Near real time mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Examples usage</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">satmo</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Command Line Users Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cli.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-line-users-guide">
<h1>Command Line Users Guide<a class="headerlink" href="#command-line-users-guide" title="Permalink to this headline">¶</a></h1>
<p>Satmo operates in two modes; an update mode, to download archive data and (re-)process these archive data, and a near real time mode.</p>
<p>These operation can be operated by a set of consistent command line interfaces.
The present document presents the main uses, features and examples of operation of the interface.</p>
<div class="section" id="update-mode">
<h2>Update mode<a class="headerlink" href="#update-mode" title="Permalink to this headline">¶</a></h2>
<p>Update mode is used primarilly to download and process archive data. All command start by the prefix <code class="docutils literal"><span class="pre">timerange</span></code>, indicating that their action apply to time range.</p>
<div class="section" id="download-data">
<h3>Download data<a class="headerlink" href="#download-data" title="Permalink to this headline">¶</a></h3>
<div class="section" id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The general data download interface is called <code class="docutils literal"><span class="pre">timerange_download.py</span></code>; running <code class="docutils literal"><span class="pre">timerange_download.py</span> <span class="pre">--help</span></code> displays the help page of the command line interface.</p>
<p>&gt; Note: Downloading full speed causes problems of breaking connection, it is therefore preferable to limit download speed with tools like <strong>trickle</strong>.
&gt; In accordance with the recommandations of the CONABIO IT department the overall download speed for the whole system should not exceed 15 MB/s. Therefore if running two download commands in parallel, use for each command <code class="docutils literal"><span class="pre">nohup</span> <span class="pre">trickle</span> <span class="pre">-d</span> <span class="pre">7</span> <span class="pre">timerange_download.py</span> <span class="pre">...</span> <span class="pre">&amp;</span></code></p>
</div>
<div class="section" id="examples-usage">
<h4>Examples usage<a class="headerlink" href="#examples-usage" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>L1A data download</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> nohup timerange_download.py --terra --aqua --viirs -b <span class="m">2000</span>-02-24 -e <span class="m">2016</span>-12-31 -north <span class="m">32</span> -south <span class="m">4</span> -west -121 -east -73 -d /export/isilon/datos2/satmo2_data/ &gt; ~/dl_log.log <span class="p">&amp;</span>
</pre></div>
</div>
<ul class="simple">
<li>L2 data download</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Ocean color variables <span class="o">(</span>Blue reflectances, chlor<span class="se">\_</span>a, etc<span class="o">)</span>
<span class="gp">$</span> nohup timerange_download.py --terra --aqua --viirs -b <span class="m">2000</span>-02-24 -e <span class="m">2016</span>-12-31 -north <span class="m">32</span> -south <span class="m">4</span> -west -121 -east -73 -p OC --no-night -d /export/isilon/datos2/satmo2_data/ &gt; ~/dl_log.log <span class="p">&amp;</span>

<span class="gp">#</span> Day <span class="nb">time</span> SST
<span class="gp">$</span> nohup timerange_download.py --terra --aqua --viirs -b <span class="m">2000</span>-02-24 -e <span class="m">2016</span>-12-31 -north <span class="m">32</span> -south <span class="m">4</span> -west -121 -east -73 -p SST --no-night -d /export/isilon/datos2/satmo2_data/ &gt; ~/dl_log.log <span class="p">&amp;</span>

<span class="gp">#</span> Night <span class="nb">time</span> SST
<span class="gp">$</span> nohup timerange_download.py --terra --aqua --viirs -b <span class="m">2000</span>-02-24 -e <span class="m">2016</span>-12-31 -north <span class="m">32</span> -south <span class="m">4</span> -west -121 -east -73 -p SST --no-day -d /export/isilon/datos2/satmo2_data/ &gt; ~/dl_log.log <span class="p">&amp;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="l3m-products-processing">
<h3>L3m products processing<a class="headerlink" href="#l3m-products-processing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Description<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The commands <code class="docutils literal"><span class="pre">timerange_L3m_process.py</span></code> generates L3m files, projected to a regular georeferenced grid, from the input L2 files, downloaded using the <code class="docutils literal"><span class="pre">timerange_download.py</span></code> command line interface. Each variable has to be processed separately (But multiple sensors can be processed at the same time). Running <code class="docutils literal"><span class="pre">timerange_L3m_process.py</span> <span class="pre">--help</span></code> displays the help page of the command line interface.</p>
</div>
<div class="section" id="id2">
<h4>Examples usage<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Process Cholorophyll-a at <span class="m">2000</span> m resolution <span class="k">for</span> aqua, terra and viirs.
<span class="gp">$</span> nohup timerange_L3m_process.py --aqua --terra --viirs -b <span class="m">2000</span>-01-01 -e <span class="m">2017</span>-05-10 -s CHL -v chlor_a -d /export/isilon/datos2/satmo2_data/ -r <span class="m">2000</span> --overwrite -north <span class="m">33</span> -south <span class="m">3</span> -west -122 -east -72 -multi <span class="m">4</span> <span class="p">&amp;</span>

<span class="gp">#</span> Process SST at <span class="m">2000</span> m resolution <span class="k">for</span> aqua, terra and viirs.
<span class="gp">$</span> nohup timerange_L3m_process.py --aqua --terra --viirs -b <span class="m">2000</span>-01-01 -e <span class="m">2017</span>-05-10 -s SST -v sst -mask 0x1002 -d /export/isilon/datos2/satmo2_data/ -r <span class="m">2000</span> --overwrite -north <span class="m">33</span> -south <span class="m">3</span> -west -122 -east -72 -multi <span class="m">4</span> <span class="p">&amp;</span>

<span class="gp">#</span> Process PAR at <span class="m">2000</span> m resolution <span class="k">for</span> aqua, terra and viirs.
<span class="gp">$</span> nohup timerange_L3m_process.py --aqua --terra --viirs -b <span class="m">2000</span>-01-01 -e <span class="m">2017</span>-05-10 -s PAR -v par -mask 0x600000a -d /export/isilon/datos2/satmo2_data/ -r <span class="m">2000</span> --overwrite -north <span class="m">33</span> -south <span class="m">3</span> -west -122 -east -72 -multi <span class="m">4</span> <span class="p">&amp;</span>

<span class="gp">#</span> Process FLH at <span class="m">2000</span> m resolution <span class="k">for</span> aqua, terra and viirs.
<span class="gp">$</span> nohup timerange_L3m_process.py --aqua --terra --viirs -b <span class="m">2000</span>-01-01 -e <span class="m">2017</span>-05-10 -s FLH -v nflh -mask 0x679d73f -d /export/isilon/datos2/satmo2_data/ -r <span class="m">2000</span> --overwrite -north <span class="m">33</span> -south <span class="m">3</span> -west -122 -east -72 -multi <span class="m">4</span> <span class="p">&amp;</span>

<span class="gp">#</span> Process NSST at <span class="m">2000</span> m resolution <span class="k">for</span> aqua, terra and viirs <span class="o">(</span>note the <span class="sb">`</span>--night<span class="sb">`</span> flag<span class="o">)</span>
<span class="gp">$</span> nohup timerange_L3m_process.py --aqua --terra --viirs -b <span class="m">2000</span>-01-01 -e <span class="m">2017</span>-05-10 -s NSST -v sst -mask 0x2 --night -d /export/isilon/datos2/satmo2_data/ -r <span class="m">2000</span> --overwrite -north <span class="m">33</span> -south <span class="m">3</span> -west -122 -east -72 -multi <span class="m">4</span> <span class="p">&amp;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="generate-multisensor-composites">
<h3>Generate multisensor composites<a class="headerlink" href="#generate-multisensor-composites" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>Description<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>The command <code class="docutils literal"><span class="pre">timerange_daily_composite.py</span></code> produces multi sensors composites (e.g.: Data from aqua and terra, acquired on the same day are combined into a single product). The input files for this operation are sensor specific L3m files; it is therefore essential to run <code class="docutils literal"><span class="pre">timerange_L3m_process.py</span></code> prior to this command. The files generated use the sensor code prefix <code class="docutils literal"><span class="pre">X</span></code> and are written to the <code class="docutils literal"><span class="pre">combined</span></code> sensor subdirectory of the data archive. Running <code class="docutils literal"><span class="pre">timerange_daily_composite.py</span> <span class="pre">--help</span></code> displays the help page of the command line interface.</p>
</div>
<div class="section" id="id4">
<h4>Examples usage<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Combine chlorophyll-a data from all the sensors available:
<span class="gp">$</span> nohup timerange_daily_composite.py -b <span class="m">2000</span>-01-01 -e <span class="m">2016</span>-12-31 -v chlor_a -s CHL -d /export/isilon/datos2/satmo2_data/ -r 2km --overwrite -multi <span class="m">4</span> <span class="p">&amp;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="generate-time-composites">
<h3>Generate time composites<a class="headerlink" href="#generate-time-composites" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>Description<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>The command <code class="docutils literal"><span class="pre">timerange_time_composite.py</span></code> produces temporal composites for a given variable using daily data from a given sensor (which can be combined (default)). Running <code class="docutils literal"><span class="pre">timerange_time_composite.py</span> <span class="pre">--help</span></code> displays the help page of the command line interface.</p>
</div>
<div class="section" id="id6">
<h4>Examples usage<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Generate <span class="m">16</span> days composites from the daily composites of chlorophyll-a produced by the <span class="sb">`</span>timerange_daily_composite.py<span class="sb">`</span> command.
<span class="gp">$</span> nohup timerange_time_composite.py -b <span class="m">2000</span>-01-01 -e <span class="m">2017</span>-06-01 -delta <span class="m">16</span> -s CHL -v chlor_a -d /export/isilon/datos2/satmo2_data/ -r 2km --overwrite --preview -multi <span class="m">4</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="near-real-time-mode">
<h2>Near real time mode<a class="headerlink" href="#near-real-time-mode" title="Permalink to this headline">¶</a></h2>
<p>The main command to operate satmo near real time mode is called <code class="docutils literal"><span class="pre">satmo_nrt.py</span></code>.</p>
<div class="section" id="id7">
<h3>Description<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">satmo_nrt.py</span></code> starts the near real time mode of the satmo system. The current version of the near real time mode handles downloading of NRT and refined processing data, processing to L3m level and production of daily and temporal composites (8 and 16 days).
Running <code class="docutils literal"><span class="pre">satmo_nrt.py</span> <span class="pre">--help</span></code> displays the help page of the command line interface.</p>
</div>
<div class="section" id="id8">
<h3>Examples usage<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Start the system with download of NRT + refined processing L2 data, processing of <span class="sb">`</span>chlor_a<span class="sb">`</span>, <span class="sb">`</span>nflh<span class="sb">`</span> and <span class="sb">`</span>sst<span class="sb">`</span> <span class="o">(</span>day and night<span class="o">)</span>, at 2km resolution
<span class="gp">$</span> nohup satmo_nrt.py --day_vars chlor_a nflh sst Kd_490 --night_vars sst --north <span class="m">33</span> --south <span class="m">3</span> --west -122 --east -72 -d /export/isilon/datos2/satmo2_data/ -r <span class="m">2000</span> &gt; ~/nrt_log.log <span class="p">&amp;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to satmo’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, CONABIO.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>