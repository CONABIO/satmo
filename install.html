

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; satmo 0.2.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="satmo 0.2.2 documentation" href="index.html"/>
        <link rel="next" title="Documentation" href="autodoc.html"/>
        <link rel="prev" title="satmo.wrappers module" href="api/satmo.wrappers.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> satmo
          

          
          </a>

          
            
            
              <div class="version">
                0.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Users Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">satmo package</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-setup">System setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#run-from-an-account-with-sudo-priviledges-or-from-root-without-sudo">Run from an account with sudo priviledges or from root without sudo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-from-the-user-account-from-which-processing-will-be-done">Run from the user account from which processing will be done</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#autostart">Autostart</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autodoc.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="autodoc.html#building-the-doc">Building the doc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">satmo</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="system-setup">
<h2>System setup<a class="headerlink" href="#system-setup" title="Permalink to this headline">¶</a></h2>
<p>The commands with sudo have to be ran from a user account with <code class="docutils literal"><span class="pre">sudo</span></code> priviledges, or directly from <code class="docutils literal"><span class="pre">root</span></code>, without sudo. Commands that <strong>do not</strong> start with sudo have to be ran from a normal user account. Example <code class="docutils literal"><span class="pre">xtuser</span></code> on CONABIO servers.</p>
<div class="section" id="run-from-an-account-with-sudo-priviledges-or-from-root-without-sudo">
<h3>Run from an account with sudo priviledges or from root without sudo<a class="headerlink" href="#run-from-an-account-with-sudo-priviledges-or-from-root-without-sudo" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># Install generic and spatial libraries</span>
sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable
sudo apt-get update
sudo apt-get install libproj-dev libgeos-dev gdal-bin libgdal-dev
sudo apt-get install python-pip git
sudo pip install virtualenv
sudo pip install virtualenvwrapper
</pre></div>
</div>
</div>
<div class="section" id="run-from-the-user-account-from-which-processing-will-be-done">
<h3>Run from the user account from which processing will be done<a class="headerlink" href="#run-from-the-user-account-from-which-processing-will-be-done" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># As the user from which satmo will be operated (e.g. xtuser)</span>
<span class="nb">echo</span> <span class="s1">&#39;source /usr/local/bin/virtualenvwrapper.sh&#39;</span> &gt;&gt; ~/.bashrc
<span class="nb">source</span> ~/.bashrc

<span class="c1"># Install Version v7.4 of Seadas</span>
wget http://oceandata.sci.gsfc.nasa.gov/ocssw/install_ocssw.py
chmod +x install_ocssw.py
<span class="nv">seadas_dir</span><span class="o">=</span>/data/ocssw
mkdir <span class="nv">$seadas_dir</span>
./install_ocssw.py --install-dir<span class="o">=</span><span class="nv">$seadas_dir</span> --git-branch<span class="o">=</span>v7.4 --aqua --seawifs --terra --viirsn
<span class="nb">echo</span> <span class="s2">&quot;export OCSSWROOT=</span><span class="nv">$seadas_dir</span><span class="s2">&quot;</span> &gt;&gt; ~/.profile
<span class="nb">source</span> ~/.profile
<span class="nb">echo</span> <span class="s2">&quot;source </span><span class="nv">$OCSSWROOT</span><span class="s2">/OCSSW_bash.env&quot;</span> &gt;&gt; ~/.profile

<span class="c1"># Create a virtualenv named satmo and install the satmo package in it</span>
mkvirtualenv satmo
pip install -U pip
pip install <span class="nv">numpy</span><span class="o">==</span><span class="m">1</span>.13.1
pip install git+https://github.com/CONABIO/satmo.git
</pre></div>
</div>
<p>Further details on installing the satmo python library can be found in the project <a class="reference external" href="https://github.com/CONABIO/satmo/blob/master/.travis.yml">travis file</a></p>
</div>
</div>
<div class="section" id="autostart">
<h2>Autostart<a class="headerlink" href="#autostart" title="Permalink to this headline">¶</a></h2>
<p>It may be required to have the near real time mode of the system starting automatically on system startup, hence avoiding having to restart it manually after every system reboot, maintenance, etc.S For that, a &#64;reboot cron task can be created. See the explanations below.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># As xtuser, enter crontab edit mode by running:</span>
crontab -e
<span class="c1"># And add the following line to the file</span>
@reboot . ~/.profile<span class="p">;</span> . /data/ocssw/OCSSW_bash.env<span class="p">;</span> /home/xtuser/.virtualenvs/satmo/bin/satmo_nrt.py --day_vars chlor_a nflh sst Kd_490 --night_vars sst --l1a_vars afai fai --north <span class="m">33</span> --south <span class="m">3</span> --west -122 --east -72 -d /export/isilon/datos2/satmo2_data/ -multi <span class="m">3</span> &gt; /home/xtuser/nrt_log.log <span class="p">&amp;</span>
</pre></div>
</div>
<p>This crontab entry will run the <code class="docutils literal"><span class="pre">satmo_nrt.py</span></code> command on system startup, with the defined parameters.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="autodoc.html" class="btn btn-neutral float-right" title="Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api/satmo.wrappers.html" class="btn btn-neutral" title="satmo.wrappers module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, CONABIO.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>