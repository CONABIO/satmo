

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>satmo.processors module &mdash; satmo 0.2.4 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="satmo 0.2.4 documentation" href="../index.html"/>
        <link rel="up" title="satmo API" href="index.html"/>
        <link rel="next" title="satmo.query module" href="satmo.query.html"/>
        <link rel="prev" title="satmo.preprocessors module" href="satmo.preprocessors.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> satmo
          

          
          </a>

          
            
            
              <div class="version">
                0.2.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#characteristics-of-the-satmo-system">Characteristics of the SATMO system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#satmo-operating-modes">Satmo operating modes</a></li>
</ul>
<p class="caption"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Using the command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../variables.html">Adjusting default processing parameters and variables</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">satmo API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#modules">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="satmo.utils.html">satmo.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.download.html">satmo.download module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.errors.html">satmo.errors module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.geo.html">satmo.geo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.global_variables.html">satmo.global_variables module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.preprocessors.html">satmo.preprocessors module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">satmo.processors module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.query.html">satmo.query module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.visualization.html">satmo.visualization module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satmo.wrappers.html">satmo.wrappers module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chains.html">Satmo processing chains</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation and documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autodoc.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autodoc.html#building-the-doc">Building the doc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">satmo</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">satmo API</a> &raquo;</li>
        
      <li>satmo.processors module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/satmo.processors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-satmo.processors">
<span id="satmo-processors-module"></span><h1>satmo.processors module<a class="headerlink" href="#module-satmo.processors" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="satmo.processors.BasicBinMap">
<em class="property">class </em><code class="descclassname">satmo.processors.</code><code class="descname">BasicBinMap</code><span class="sig-paren">(</span><em>file_list</em>, <em>qual_array=None</em>, <em>var=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to produce daily gridded data for a given date/variable from L2 files</p>
<p>The class is instantiated with a list of L2 files. The methods give the option to
processed new variables from reflectance layers present in the L2 file, extract an existing
one, mask the invalid observations and bin the resulting cleaned variable to a regular grid.
All the methods of this class are exposed in the L3mProcess class so
that there shouldn’t be any need to use this class directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_list</strong> (<em>list</em>) – List of L2 files (they should all belong to the same collection/day/etc)</li>
<li><strong>qual_array</strong> (<em>str</em>) – Name of the quality array (named qual_prod in l2bin documentation)
Used in a later filtering step by the apply_mask method. Mostly used for sst and nsst products.
Defaults to None.</li>
<li><strong>var</strong> (<em>str</em>) – Optional name of variable to bin. Use when binning a variable that is already present in the archive</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.file_list">
<code class="descname">file_list</code><a class="headerlink" href="#satmo.processors.BasicBinMap.file_list" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of strings (the pathnames of individual L2 files)</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.lon_dd">
<code class="descname">lon_dd</code><a class="headerlink" href="#satmo.processors.BasicBinMap.lon_dd" title="Permalink to this definition">¶</a></dt>
<dd><p><em>np.array</em> – 1D Np array containing longitude coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.lat_dd">
<code class="descname">lat_dd</code><a class="headerlink" href="#satmo.processors.BasicBinMap.lat_dd" title="Permalink to this definition">¶</a></dt>
<dd><p><em>np.array</em> – 1D Np array containing latitude coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.flag_array">
<code class="descname">flag_array</code><a class="headerlink" href="#satmo.processors.BasicBinMap.flag_array" title="Permalink to this definition">¶</a></dt>
<dd><p><em>np.array</em> – 1D np array containing flag values</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.qual_array">
<code class="descname">qual_array</code><a class="headerlink" href="#satmo.processors.BasicBinMap.qual_array" title="Permalink to this definition">¶</a></dt>
<dd><p><em>np.array</em> – 1D np array containing pixel quality information (higher values
mean lower quality)</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.var_array">
<code class="descname">var_array</code><a class="headerlink" href="#satmo.processors.BasicBinMap.var_array" title="Permalink to this definition">¶</a></dt>
<dd><p><em>np.array</em> – 1D np array containing variable to bin</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.output_array">
<code class="descname">output_array</code><a class="headerlink" href="#satmo.processors.BasicBinMap.output_array" title="Permalink to this definition">¶</a></dt>
<dd><p><em>np.array</em> – a 2D np array containing binned variable</p>
</dd></dl>

<dl class="attribute">
<dt id="satmo.processors.BasicBinMap.geo_dict">
<code class="descname">geo_dict</code><a class="headerlink" href="#satmo.processors.BasicBinMap.geo_dict" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – A dictionary used to write the output_array using rasterio</p>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">satmo</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Instantiate class using factory classmethod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span> <span class="o">=</span> <span class="n">satmo</span><span class="o">.</span><span class="n">BasicBinMap</span><span class="o">.</span><span class="n">from_sensor_date</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">suite</span> <span class="o">=</span> <span class="s1">&#39;OC&#39;</span><span class="p">,</span>
<span class="go">                                                   data_root = &#39;/home/ldutrieux/sandbox/satmo2_data&#39;,</span>
<span class="go">                                                   var = &#39;chlor_a&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply mask with default parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">apply_mask</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Bin the data to a 2 km resolution grid in a chosen resolution and extent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">bin_to_grid</span><span class="p">(</span><span class="n">south</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">north</span> <span class="o">=</span> <span class="mi">33</span><span class="p">,</span> <span class="n">west</span> <span class="o">=</span> <span class="o">-</span><span class="mi">122</span><span class="p">,</span> <span class="n">east</span> <span class="o">=</span> <span class="o">-</span><span class="mi">72</span><span class="p">,</span>
<span class="go">                          resolution = 2000, proj4string = &quot;+proj=laea +lat_0=20 +lon_0=-100&quot;)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Write grid with binned data to a georeferenced file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s1">&#39;/home/ldutrieux/sandbox/satmo2_data/aqua/L3m/DAY/2016/001/A2016001.L3m_DAY_CHL_chlor_a_2km.tif&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="satmo.processors.BasicBinMap.apply_mask">
<code class="descname">apply_mask</code><span class="sig-paren">(</span><em>bit_mask=107599675</em>, <em>max_qual=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap.apply_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap.apply_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to mask data using information from the flag array. And optionally the mask array (named qual_prod in l2bin documentation)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bit_mask</strong> (<em>int</em>) – The mask to use for selecting active flags from the flag array
The array is coded bitwise so that the mask has to be built as a bit mask too.
It’s generally more convenient to use hexadecimal to define the mask, for example
if you want to activate flags 0, 3 and 5, you can pass 0x29 (0010 1001).
The mask defaults to 0x0669D73B, which is the defaults value for seadas l2bin.</li>
<li><strong>max_qual</strong> (<em>int</em>) – Maximum quality value of the qual array. Any value higher than
this value will be used to filter out data. Defaults to 2.
0, 1, 2 correspond to best, good, acceptable. Any value higher than that is bad
Only applies if qual_array is not None during the class instantiation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Below the table of flag signification for modis, viirs and seawifs</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="35%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Flag Name Modis/viirs</th>
<th class="head">Flag Name Seawifs</th>
<th class="head">Bit number</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ATMFAIL</td>
<td>ATMFAIL</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>LAND</td>
<td>LAND</td>
<td>1</td>
</tr>
<tr class="row-even"><td>PRODWARN</td>
<td>PRODWARN</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>HIGLINT</td>
<td>HIGLINT</td>
<td>3</td>
</tr>
<tr class="row-even"><td>HILT</td>
<td>HILT</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>HISATZEN</td>
<td>HISATZEN</td>
<td>5</td>
</tr>
<tr class="row-even"><td>COASTZ</td>
<td>COASTZ</td>
<td>6</td>
</tr>
<tr class="row-odd"><td>SPARE</td>
<td>SPARE</td>
<td>7</td>
</tr>
<tr class="row-even"><td>STRAYLIGHT</td>
<td>STRAYLIGHT</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>CLDICE</td>
<td>CLDICE</td>
<td>9</td>
</tr>
<tr class="row-even"><td>COCCOLITH</td>
<td>COCCOLITH</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>TURBIDW</td>
<td>TURBIDW</td>
<td>11</td>
</tr>
<tr class="row-even"><td>HISOLZEN</td>
<td>HISOLZEN</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>SPARE</td>
<td>SPARE</td>
<td>13</td>
</tr>
<tr class="row-even"><td>LOWLW</td>
<td>LOWLW</td>
<td>14</td>
</tr>
<tr class="row-odd"><td>CHLFAIL</td>
<td>CHLFAIL</td>
<td>15</td>
</tr>
<tr class="row-even"><td>NAVWARN</td>
<td>NAVWARN</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>ABSAER</td>
<td>ABSAER</td>
<td>17</td>
</tr>
<tr class="row-even"><td>SPARE</td>
<td>SPARE</td>
<td>18</td>
</tr>
<tr class="row-odd"><td>MAXAERITER</td>
<td>MAXAERITER</td>
<td>19</td>
</tr>
<tr class="row-even"><td>MODGLINT</td>
<td>MODGLINT</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>CHLWARN</td>
<td>CHLWARN</td>
<td>21</td>
</tr>
<tr class="row-even"><td>ATMWARN</td>
<td>ATMWARN</td>
<td>22</td>
</tr>
<tr class="row-odd"><td>SPARE</td>
<td>SPARE</td>
<td>23</td>
</tr>
<tr class="row-even"><td>SEAICE</td>
<td>SEAICE</td>
<td>24</td>
</tr>
<tr class="row-odd"><td>NAVFAIL</td>
<td>NAVFAIL</td>
<td>25</td>
</tr>
<tr class="row-even"><td>FILTER</td>
<td>FILTER</td>
<td>26</td>
</tr>
<tr class="row-odd"><td>SPARE</td>
<td>SPARE</td>
<td>27</td>
</tr>
<tr class="row-even"><td>BOWTIEDEL</td>
<td>SPARE</td>
<td>28</td>
</tr>
<tr class="row-odd"><td>HIPOL</td>
<td>HIPOL</td>
<td>29</td>
</tr>
<tr class="row-even"><td>PRODFAIL</td>
<td>PRODFAIL</td>
<td>30</td>
</tr>
<tr class="row-odd"><td>SPARE</td>
<td>SPARE</td>
<td>31</td>
</tr>
</tbody>
</table>
<p>Default l2bin mask values for:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="81%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">suite</th>
<th class="head">mask value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>General (includes Chlorophyl algorithms, Rrs, etc)</td>
<td>0x669d73b</td>
</tr>
<tr class="row-odd"><td>FLH</td>
<td>0x679d73f</td>
</tr>
<tr class="row-even"><td>PAR</td>
<td>0x600000a</td>
</tr>
<tr class="row-odd"><td>SST</td>
<td>0x1002</td>
</tr>
<tr class="row-even"><td>NSST/SST4</td>
<td>0x2</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="satmo.processors.BasicBinMap.bin_to_grid">
<code class="descname">bin_to_grid</code><span class="sig-paren">(</span><em>south</em>, <em>north</em>, <em>west</em>, <em>east</em>, <em>resolution</em>, <em>proj4string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap.bin_to_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap.bin_to_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for binning data to a defined grid</p>
<p>A grid is defined by its extent (north, south, east, west), resolution, and
projection (proj4string).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>south</strong> (<em>float</em>) – Southern border of output extent (in DD)</li>
<li><strong>north</strong> (<em>float</em>) – Northern border of output extent (in DD)</li>
<li><strong>west</strong> (<em>float</em>) – Western border of output extent (in DD)</li>
<li><strong>east</strong> (<em>float</em>) – Eastern border of output extent (in DD)</li>
<li><strong>resolution</strong> (<em>float</em>) – Output resolution (in the unit of the output coordinate reference system)</li>
<li><strong>proj4string</strong> (<em>str</em>) – Coordinate reference system of the output in proj4 format</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="satmo.processors.BasicBinMap.from_sensor_date">
<em class="property">classmethod </em><code class="descname">from_sensor_date</code><span class="sig-paren">(</span><em>sensor_code</em>, <em>date</em>, <em>day</em>, <em>suite</em>, <em>data_root</em>, <em>qual_array=None</em>, <em>var=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap.from_sensor_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap.from_sensor_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative class buider that builds automatically the right file list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sensor_code</strong> (<em>str</em>) – Sensor code (e.g. ‘A’, ‘T’, ‘V’) of the files to query.</li>
<li><strong>date</strong> (<em>str</em><em> or </em><em>datetime</em>) – Date of the data to find</li>
<li><strong>day</strong> (<em>bool</em>) – Are we looking for day data</li>
<li><strong>suite</strong> (<em>str</em>) – L2 suite of input files (e.g. OC, SST, SST4, SST3)</li>
<li><strong>data_root</strong> (<em>str</em>) – Root of the data archive</li>
<li><strong>qual_array</strong> (<em>str</em>) – Name of the quality array (named qual_prod in l2bin documentation)
Used in a later filtering step by the apply_mask method. Mostly used for sst and nsst products.
Defaults to None.</li>
<li><strong>var</strong> (<em>str</em>) – Optional name of variable to bin. Use when binning a variable that is already present in the archive</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="satmo.processors.BasicBinMap.set_variable">
<code class="descname">set_variable</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap.set_variable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap.set_variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Setter for variable to bin</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>np.array</em>) – A flattened numpy array that should match with the self.lon_dd
self.lat_dd, self.flags_array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="satmo.processors.BasicBinMap.to_file">
<code class="descname">to_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap.to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a binned grid to a georeferenced tif file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Name of a tif file to write the frid to</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="satmo.processors.BasicBinMap.to_scidb">
<code class="descname">to_scidb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#BasicBinMap.to_scidb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.BasicBinMap.to_scidb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="satmo.processors.Composer">
<em class="property">class </em><code class="descclassname">satmo.processors.</code><code class="descname">Composer</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#Composer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.Composer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Compose arrays with min, max, median, max
For inheritance only, not exported to package __init__</p>
<dl class="method">
<dt id="satmo.processors.Composer.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#Composer.max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.Composer.max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="satmo.processors.Composer.mean">
<code class="descname">mean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#Composer.mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.Composer.mean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="satmo.processors.Composer.median">
<code class="descname">median</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#Composer.median"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.Composer.median" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="satmo.processors.Composer.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#Composer.min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.Composer.min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="satmo.processors.FileComposer">
<em class="property">class </em><code class="descclassname">satmo.processors.</code><code class="descname">FileComposer</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#FileComposer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.FileComposer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#satmo.processors.Composer" title="satmo.processors.Composer"><code class="xref py py-class docutils literal"><span class="pre">satmo.processors.Composer</span></code></a></p>
<p>Class to compose multiple raster files into one (with methods inherited
from the Composer class), and write the output to a file</p>
<p>Typically designed to produce composites from L3m files.
Can be used with single band geoTiff or single band netcdf files</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">satmo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file1</span> <span class="o">=</span> <span class="s1">&#39;aqua/L2/2015/001/A2015001.L3m_DAY_CHL_chlor_a_1km.tif&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file2</span> <span class="o">=</span> <span class="s1">&#39;terra/L2/2015/001/T2015001.L3m_DAY_CHL_chlor_a_1km.tif&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file3</span> <span class="o">=</span> <span class="s1">&#39;viirs/L2/2015/001/V2015001.L3m_DAY_CHL_chlor_a_1km.tif&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compose_class</span> <span class="o">=</span> <span class="n">satmo</span><span class="o">.</span><span class="n">FileComposer</span><span class="p">(</span><span class="n">file1</span><span class="p">,</span> <span class="n">file2</span><span class="p">,</span> <span class="n">file3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compose_class</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compose_class</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s1">&#39;combined/X2015001.L3m_DAY_CHL_chlor_a_1km_2.tif&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="satmo.processors.FileComposer.to_file">
<code class="descname">to_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#FileComposer.to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.FileComposer.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the composed array to file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Name of file to which array has to be written</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="satmo.processors.FileComposer.to_scidb">
<code class="descname">to_scidb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#FileComposer.to_scidb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.FileComposer.to_scidb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="satmo.processors.L3mProcess">
<em class="property">class </em><code class="descclassname">satmo.processors.</code><code class="descname">L3mProcess</code><span class="sig-paren">(</span><em>file_list</em>, <em>qual_array=None</em>, <em>var=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#L3mProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.L3mProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#satmo.processors.BasicBinMap" title="satmo.processors.BasicBinMap"><code class="xref py py-class docutils literal"><span class="pre">satmo.processors.BasicBinMap</span></code></a></p>
<p>Class to put the functions to compute</p>
<p>inherits from BasicBinMap so that computing a new variable from reflectance bands is an optional step before
binning</p>
<p class="rubric">Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">satmo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Instantiate class using factory classmethod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span> <span class="o">=</span> <span class="n">satmo</span><span class="o">.</span><span class="n">L3mProcess</span><span class="o">.</span><span class="n">from_sensor_date</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">suite</span> <span class="o">=</span> <span class="s1">&#39;OC&#39;</span><span class="p">,</span>
<span class="go">                                                   data_root = &#39;/home/ldutrieux/sandbox/satmo2_data&#39;)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Compute a new variable using the calc method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add_bands</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">calc</span><span class="p">([</span><span class="s1">&#39;Rrs_555&#39;</span><span class="p">,</span> <span class="s1">&#39;Rrs_645&#39;</span><span class="p">],</span> <span class="n">add_bands</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply mask with default parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">apply_mask</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Bin the data to a 2 km resolution grid in a chosen resolution and extent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">bin_to_grid</span><span class="p">(</span><span class="n">south</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">north</span> <span class="o">=</span> <span class="mi">33</span><span class="p">,</span> <span class="n">west</span> <span class="o">=</span> <span class="o">-</span><span class="mi">122</span><span class="p">,</span> <span class="n">east</span> <span class="o">=</span> <span class="o">-</span><span class="mi">72</span><span class="p">,</span>
<span class="go">                          resolution = 2000, proj4string = &quot;+proj=laea +lat_0=20 +lon_0=-100&quot;)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Write grid with binned data to a geo-referenced file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_class</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s1">&#39;/home/ldutrieux/sandbox/satmo2_data/aqua/L3m/DAY/2016/001/A2016001.L3m_DAY_CHL_chlor_a_2km.tif&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="satmo.processors.L3mProcess.calc">
<code class="descname">calc</code><span class="sig-paren">(</span><em>band_list</em>, <em>fun</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#L3mProcess.calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.L3mProcess.calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic band math method</p>
<p>Applies an arbitrary function to a set of arrays present in the netcdf
file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>band_list</strong> (<em>list</em>) – A list of bands/variables present in the file
(e.g.: [‘Rrs_555’, ‘Rrs_645’])</li>
<li><strong>fun</strong> (<em>function</em>) – A function that takes len(band_list) arguments (all
them must be numpy array of the same dimension) performs some
element wise calculation on them and returns a single numpy array
with the same dimension than each input array.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="satmo.processors.l2_append">
<code class="descclassname">satmo.processors.</code><code class="descname">l2_append</code><span class="sig-paren">(</span><em>x</em>, <em>bands</em>, <em>formula</em>, <em>short_name</em>, <em>long_name</em>, <em>standard_name</em>, <em>valid_min</em>, <em>valid_max</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#l2_append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.l2_append" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a new array and append it to an existing OBPG L2 file</p>
<p>This function can be called by passing a nested dict of the global variable
BAND_MATH_FUNCTIONS as kwargs. Example l2_append(x, **BAND_MATH_FUNCTIONS[‘afai’][sensor])</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>str</em>) – Input L2 file in netCDF format</li>
<li><strong>bands</strong> (<em>list</em>) – List of strings corresponding to the names of the
netCDF dataset variables used to compute the new array. They must
be provided in the same order than used in the formula argument</li>
<li><strong>formula</strong> (<em>func</em>) – The function used to compute the new variable. Each argument
must be an array, and len(args) must equal len(input_bands)</li>
<li><strong>short_name</strong> (<em>str</em>) – Short name for the newly create dataset (used as netCDF
variable name)</li>
<li><strong>long_name</strong> (<em>str</em>) – Name of the newly create dataset</li>
<li><strong>standard_name</strong> (<em>str</em>) – Name of the newly create dataset</li>
<li><strong>valid_min</strong> (<em>float</em>) – Valid minimum value</li>
<li><strong>valid_max</strong> (<em>float</em>) – Valid maximum value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The function is used for its side effect of appending a new variable to an existing netCDF file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.l2bin">
<code class="descclassname">satmo.processors.</code><code class="descname">l2bin</code><span class="sig-paren">(</span><em>file_list</em>, <em>L3b_suite</em>, <em>var_list=None</em>, <em>resolution=1</em>, <em>night=False</em>, <em>filename=None</em>, <em>data_root=None</em>, <em>overwrite=False</em>, <em>flags=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#l2bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.l2bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Run l2bin for a list of L2 files</p>
<p>This is a simple no filter python wrapper around the seadas l2bin utility.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_list</strong> (<em>list</em>) – list of L2 files (full paths)</li>
<li><strong>L3b_suite</strong> (<em>str</em>) – Product suite to bin (see global variable STANDARD_L3_SUITES
for corresponding variables)</li>
<li><strong>var_list</strong> (<em>list</em>) – Optional list of variables to include in the produced L3b file.
If None (default but not recommended), a list of standard variables is
retrieved from the global variable (STANDARD_L3_SUITES)</li>
<li><strong>resolution</strong> (<em>int</em><em> or </em><em>str</em>) – See resolve argument in l2bin doc</li>
<li><strong>night</strong> (<em>bool</em>) – Is that night products</li>
<li><strong>filename</strong> (<em>str</em>) – Optional full path of output filename (L3b). If not provided, a
filename is automatically generated.</li>
<li><strong>data_root</strong> (<em>str</em>) – Root of the data archive. Mandatory if filename is not provided
ignored otherwise</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Overwrite file if already exists? Defaults to False</li>
<li><strong>flags</strong> (<em>list</em>) – A list of flags to mask invalid data (e.g. [‘CLDICE’, ‘LAND’, ‘HIGLINT’])
If None (default), a default list of flag for the L3 suite is fetched from
the global variable FLAGS</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The output filename</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">str</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">satmo.SeadasError</span></code> – if the seadas command exists with status 1</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">satmo</span><span class="o">,</span> <span class="nn">glob</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">infiles</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;/home/ldutrieux/sandbox/satmo2_data/aqua/L2/2016/001/*L2*nc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">satmo</span><span class="o">.</span><span class="n">OC_l2bin</span><span class="p">(</span><span class="n">infiles</span><span class="p">,</span> <span class="s1">&#39;CHL&#39;</span><span class="p">,</span> <span class="n">data_root</span> <span class="o">=</span> <span class="s1">&#39;/home/ldutrieux/sandbox/satmo2_data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.l2mapgen">
<code class="descclassname">satmo.processors.</code><code class="descname">l2mapgen</code><span class="sig-paren">(</span><em>x</em>, <em>north</em>, <em>south</em>, <em>west</em>, <em>east</em>, <em>prod</em>, <em>flags</em>, <em>data_root</em>, <em>filename=None</em>, <em>width=5000</em>, <em>outmode='tiff'</em>, <em>threshold=0</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#l2mapgen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.l2mapgen" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for l2mapgen seadas command line utility</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>str</em>) – Input file name</li>
<li><strong>south</strong> (<em>float</em>) – Southern border of output extent (in DD)</li>
<li><strong>north</strong> (<em>float</em>) – Northern border of output extent (in DD)</li>
<li><strong>west</strong> (<em>float</em>) – Western border of output extent (in DD)</li>
<li><strong>east</strong> (<em>float</em>) – Eastern border of output extent (in DD)</li>
<li><strong>prod</strong> (<em>str</em>) – Product to map (e.g.: ‘chlor_a’)</li>
<li><strong>flags</strong> (<em>list</em>) – List of flags to apply (see global variable FLAGS)</li>
<li><strong>data_root</strong> (<em>str</em>) – Root of the data archive</li>
<li><strong>width</strong> (<em>int</em>) – Width in pixels of the output image</li>
<li><strong>outmode</strong> (<em>str</em>) – See seadas l2mapgen doc</li>
<li><strong>threshold</strong> (<em>float</em>) – Minimum percentage of the filled pixels</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Overwrite existing files? Return ValueError if file exists
and overwrite is set to False (default)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">satmo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">satmo.global_variables</span> <span class="k">import</span> <span class="n">FLAGS</span><span class="p">,</span> <span class="n">L3_SUITE_FROM_VAR</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;/media/ldutrieux/LoicCONAext/satmo/aqua/L2/2015/077/A2015077191500.L2_LAC_AFAI.nc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_root</span> <span class="o">=</span> <span class="s1">&#39;/media/ldutrieux/LoicCONAext/satmo/&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">satmo</span><span class="o">.</span><span class="n">l2mapgen</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">data_root</span><span class="o">=</span><span class="n">data_root</span><span class="p">,</span> <span class="n">south</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">north</span><span class="o">=</span><span class="mi">33</span><span class="p">,</span> <span class="n">west</span><span class="o">=-</span><span class="mi">122</span><span class="p">,</span> <span class="n">east</span><span class="o">=-</span><span class="mi">72</span><span class="p">,</span>
<span class="go">                   prod=&#39;afai&#39;, flags = FLAGS[&#39;AFAI&#39;])</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The output filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.l3bin">
<code class="descclassname">satmo.processors.</code><code class="descname">l3bin</code><span class="sig-paren">(</span><em>file_list</em>, <em>north</em>, <em>south</em>, <em>west</em>, <em>east</em>, <em>filename</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#l3bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.l3bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple wrapper for seadas l3bin</p>
<p>Used for temporal compositing</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_list</strong> (<em>list</em>) – List of input L3b files</li>
<li><strong>south</strong> (<em>float</em>) – Southern border of output extent (in DD)</li>
<li><strong>north</strong> (<em>float</em>) – Northern border of output extent (in DD)</li>
<li><strong>west</strong> (<em>float</em>) – Western border of output extent (in DD)</li>
<li><strong>east</strong> (<em>float</em>) – Eastern border of output extent (in DD)</li>
<li><strong>filename</strong> (<em>str</em>) – Optional output filename</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Overwrite existing files?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>The output filename. Mostly used for its side effects of generating</dt>
<dd><p class="first last">a L3b temporal composite file.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.l3bin_wrapper">
<code class="descclassname">satmo.processors.</code><code class="descname">l3bin_wrapper</code><span class="sig-paren">(</span><em>sensor_codes</em>, <em>date_list</em>, <em>suite_list</em>, <em>south</em>, <em>north</em>, <em>west</em>, <em>east</em>, <em>composite</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#l3bin_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.l3bin_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to run l3bin without having to name explicitly input or output files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sensor_codes</strong> (<em>list</em>) – List of sensor codes to include (e.g.: [‘A’, ‘T’, ‘V’]</li>
<li><strong>date_list</strong> (<em>list</em>) – List of dates</li>
<li><strong>suite_list</strong> (<em>list</em>) – List of L3 suites to include</li>
<li><strong>south</strong> (<em>float</em>) – Southern border of output extent (in DD)</li>
<li><strong>north</strong> (<em>float</em>) – Northern border of output extent (in DD)</li>
<li><strong>west</strong> (<em>float</em>) – Western border of output extent (in DD)</li>
<li><strong>east</strong> (<em>float</em>) – Eastern border of output extent (in DD)</li>
<li><strong>composite</strong> (<em>str</em>) – Composite type (8DAY, MON)</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Overwrite existing files?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of L3b files generated. Mostly used for its side effect of generating
temporally composited L3b files from daily L3b files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.l3mapgen">
<code class="descclassname">satmo.processors.</code><code class="descname">l3mapgen</code><span class="sig-paren">(</span><em>x</em>, <em>variable</em>, <em>south</em>, <em>north</em>, <em>west</em>, <em>east</em>, <em>filename=None</em>, <em>resolution=1000</em>, <em>proj=None</em>, <em>data_root=None</em>, <em>composite='DAY'</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#l3mapgen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.l3mapgen" title="Permalink to this definition">¶</a></dt>
<dd><p>Run l3mapgen from a l3b file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>str</em>) – Path to input L3b file</li>
<li><strong>variable</strong> (<em>str</em>) – variable to warp (should exist in the L3b file) (e.g.: sst, chlor_a, Rrs_555, …)</li>
<li><strong>south</strong> (<em>int</em><em> or </em><em>float</em>) – south latitude of mapped file extent</li>
<li><strong>north</strong> (<em>int</em><em> or </em><em>float</em>) – north latitude of mapped file extent</li>
<li><strong>west</strong> (<em>int</em><em> or </em><em>float</em>) – west longitude of mapped file extent</li>
<li><strong>east</strong> (<em>int</em><em> or </em><em>float</em>) – east longitude of mapped file extent</li>
<li><strong>filename</strong> (<em>str</em>) – Optional full path of output filename (L3m). If not provided, a
filename is automatically generated.</li>
<li><strong>resolution</strong> (<em>int</em>) – MApping resolution in meters. Defaults to 1000</li>
<li><strong>proj</strong> (<em>str</em>) – Optional proj4 string. If None (default), a lambert Azimutal Equal Area projection (laea), centered
on the provided extent is used.</li>
<li><strong>data_root</strong> (<em>str</em>) – Root of the data archive. Mandatory if filename is not provided
ignored otherwise</li>
<li><strong>composite</strong> (<em>str</em>) – Compositing period (DAY, 8DAY, MON). Used for building output filename
Defaults to DAY</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Overwrite file if already exists? Defaults to False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The output filename</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">str</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">satmo.SeadasError</span></code> – if the seadas command exists with status 1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.make_time_composite">
<code class="descclassname">satmo.processors.</code><code class="descname">make_time_composite</code><span class="sig-paren">(</span><em>date_list</em>, <em>var</em>, <em>suite</em>, <em>resolution</em>, <em>composite</em>, <em>data_root</em>, <em>sensor_code='X'</em>, <em>fun='mean'</em>, <em>filename=None</em>, <em>overwrite=False</em>, <em>preview=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#make_time_composite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.make_time_composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a time composite (L3m) from daily L3m data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date_list</strong> (<em>list</em>) – A list of the dates to include in the composite</li>
<li><strong>var</strong> (<em>str</em>) – L3m variable to composite</li>
<li><strong>suite</strong> (<em>str</em>) – L3m suite</li>
<li><strong>resolution</strong> (<em>str</em>) – Resolution of data to compose (e.g.: ‘2km’)</li>
<li><strong>composite</strong> (<em>str</em>) – Type/name of generated composite (e.g.: ‘8DAY’, ‘16DAY’). Used
for automatic output filename generation.</li>
<li><strong>data_root</strong> (<em>str</em>) – Root of the data archive</li>
<li><strong>sensor_code</strong> (<em>str</em>) – Sensor to composite (defaults to ‘X’, which
corresponds to daily (cross sensors) composites.</li>
<li><strong>fun</strong> (<em>str</em>) – compositing function, defaults to mean</li>
<li><strong>filename</strong> (<em>str</em>) – Optional output filename. Auto generated if not provided</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Should output file be overwritten if it already
exists.</li>
<li><strong>preview</strong> (<em>bool</em>) – Should a png preview be automatically generated</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The filename of the produced file.
In case no file is produced (because no input files were found, the function exits without return value.
When automatically generated the date of the composite corresponds to the first day of the composite.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">satmo</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">begin</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">01</span><span class="p">,</span> <span class="mi">01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">date_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">begin</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">satmo</span><span class="o">.</span><span class="n">make_time_composite</span><span class="p">(</span><span class="n">date_list</span><span class="p">,</span> <span class="s1">&#39;chlor_a&#39;</span><span class="p">,</span> <span class="s1">&#39;CHL&#39;</span><span class="p">,</span> <span class="s1">&#39;2km&#39;</span><span class="p">,</span>
<span class="go">                              &#39;16DAY&#39;,</span>
<span class="go">                              &#39;/home/ldutrieux/sandbox/satmo2_data&#39;,</span>
<span class="go">                              overwrite=True)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="satmo.processors.nc2tif">
<code class="descclassname">satmo.processors.</code><code class="descname">nc2tif</code><span class="sig-paren">(</span><em>file</em>, <em>proj4string=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/satmo/processors.html#nc2tif"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#satmo.processors.nc2tif" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate geotiff from L3m netcdf array</p>
<p>Reads an existing array from a netcdf file and writes it
with georeference as tiff</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file</strong> (<em>str</em>) – Path to the netcdf file containing the desired array</li>
<li><strong>proj4string</strong> (<em>str</em>) – Coordinate reference system (optional, see geo_dict_from_nc)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The function is used for its side effect of writing a geotiff on
disk.
The function also returns the file name of the produced file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="satmo.query.html" class="btn btn-neutral float-right" title="satmo.query module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="satmo.preprocessors.html" class="btn btn-neutral" title="satmo.preprocessors module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, CONABIO.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>