# This document provides a brief overview of the products generated by and stored on the system

## Spatial considerations

Similarly to the previous version of the system, the area covered stretches from South to North between 3 and 33 degrees and from West to East between -122 and -72 degrees.

The number of pixels covering the areas for the various spatial resolutions (250, 500 and 1000 m) will depend on the Coordinate Reference System (CRS) chosen for the output.

Plate caree appears to be the standard projection of the ocean color community. This remains an open consideration that requires further assessment considering the requirements of both web visualization and analysis.


## Intermediary Vs Final

Final products are defined by biophysical variables whose values have a direct biological/ecological/analytical interest (ocean color products, Sea Surface Temperature, etc). On the contrary, intermediary products do not represent any direct biologically meaningful biophysical variable (e.g.: reflectance), but are essential to compute final products. Intermediary products would for instance not be displayed/displayable on the web visualization platform.


## Rolling Vs permanent archiving

Even though they constitute final products, certain variables do not need to be stored permanently on the system, and can be replaced by new incoming data, hence saving storage.
This is for instance the case of near real time products, which have an immediate relevance but become obsolete after consolidation.

## Product list

### Ocean color products


| Abbreviation |                    Name                   | reference | Remark |
|--------------|-------------------------------------------|-----------|--------|
| Chl\_OC3     | chlorophyll band-ratio model oc3          |           |        |
| FLH          | fluorescence line height                  |           |        |
| TSM          | total suspended matter concentration      |           |        |
| Kd(490)      | diffuse attenuation coefficient at 490 nm |           |        |
| SST          | Sea Surface Temperature                   |           |        |
| NSST         | Night Sea Surface Temperature             |           |        |
| SST4         | Short Waves Sea Surface Temperature       |           |        |


### Composite products and climatologies



### Anomalies



### Additional variables

|       Product        | Source (technology) |                  Source (institution)                  |
|----------------------|---------------------|--------------------------------------------------------|
| Ocean winds          |                     | See [nasa winds](https://winds.jpl.nasa.gov/)          |
| Salinity             | SMOS-MIRAS          | CATDS? ESA?                                            |
| (Dynamic) topography | OSTM/Jason-2        |                                                        |
| Ocean currents       |                     | [NOAA](https://www.nodc.noaa.gov/General/current.html) |
|                      |                     |                                                        |


## Input data assessment

### Ocean color data sources

- MODIS Terra
- MODIS Aqua
- VIIRS NPP
- SeaWIFS
- Sentinel 3
- MERIS

### Spectral characteristics	

|  Name  | MODIS | VIIRS | MERIS | SeaWifs | Sentinel3 |
|--------|-------|-------|-------|---------|-----------|
| BLUE1  |   412 |   412 |       |         |           |
| BLUE2  |   443 |   445 |       |         |           |
| BLUE3  |   469 |       |       |         |           |
| BLUE4  |   488 |   488 |       |         |           |
| GREEN1 |   531 |       |       |         |           |
| GREEN2 |   551 |       |       |         |           |
| GREEN3 |   555 |   555 |       |         |           |
| RED1   |   645 |   640 |       |         |           |
| RED2   |   667 |   672 |       |         |           |
| RED3   |   678 |       |       |         |           |
| RED4   |   748 |   748 |       |         |           |
| NIR1   |   859 |       |       |         |           |
| NIR2   |   869 |   867 |       |         |           |
| SWIR1  |  1240 |  1240 |       |         |           |
| SWIR1  |  1640 |       |       |         |           |
| SWIR2  |  2130 |       |       |         |           |

<!-- TODO: Make a plot (ggplot) to visualize all spectral bands of all sensors -->






### Annex products

Bathymetry, coast lines, administrative borders



## Software and processing

### Processing steps

`multilevel_processor.py`

To run:

`multilevel_processor.py --output_dir=ODIR modis_SR.par
`

Content of `modis_SR.par`

```
[main]
# ifile corresponds to input files (comma separated list)
# Apparently files need to be unpacked first
ifile=T2016260171500.L1A_LAC.bz2,T2016260202500.L1A_LAC.bz2,T2016260220000.L1A_LAC.bz2
use_nrt_anc=1
overwrite=1

[l2gen]
l2prod=Rrs_469 Rrs_555 Rrs_645 Rrs_859

# SUBSETTING OPTIONS
south=3
north=33
west=-122
east=-72
```

### Quality control




## Sandbox/TODO section
